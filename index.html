<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RamalNasib ‚Äî AI 4D Prediction (Private & Immediate Delivery)</title>
  <meta name="description" content="RamalNasib menjana set nombor bertuah menggunakan analitik corak & AI. Bayar melalui FPX Payment, terima terus secara peribadi di Telegram. Privasi terjamin, anti-share watermark." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .glow-btn { box-shadow: 0 8px 24px rgba(217,119,6,0.35), 0 2px 8px rgba(217,119,6,0.2); }
    .glow-btn:hover { box-shadow: 0 10px 32px rgba(217,119,6,0.45), 0 4px 12px rgba(217,119,6,0.25); }
    .shimmer-btn { position: relative; overflow: hidden; }
    .shimmer-btn::before { content: ""; position: absolute; inset: 0; translate: -120% 0; width: 140%;
      background: linear-gradient(110deg, transparent 0%, rgba(255,255,255,0.18) 40%, rgba(255,255,255,0.45) 50%, rgba(255,255,255,0.18) 60%, transparent 100%);
      animation: shimmer 2.2s infinite ease-in-out; }
    @keyframes shimmer { 0% { translate: -120% 0; } 55% { translate: 0 0; } 100% { translate: 120% 0; } }
    .pulse-glow { box-shadow: 0 0 0 0 rgba(245,158,11,.55); animation: pulse 2.2s infinite; }
    @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(245,158,11,.45);}70%{box-shadow:0 0 0 16px rgba(245,158,11,0);}100%{box-shadow:0 0 0 0 rgba(245,158,11,0);} }
  </style>

  <!-- Referral: capture ?ref= and store for attribution -->
  <script>
    function getQP(name) {
      const m = new RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
      return m ? decodeURIComponent(m[1].replace(/\+/g, ' ')) : null;
    }
    (function initReferrer(){
      const ref = getQP('ref');
      if (ref) {
        try { localStorage.setItem('ramal_referrer', ref.trim()); } catch {}
        document.addEventListener('DOMContentLoaded', () => {
          const badge = document.getElementById('ref-badge');
          if (badge) badge.textContent = `Referred by: ${ref}`;
        });
      }
    })();
  </script>
</head>
<body class="bg-gradient-to-b from-yellow-50 via-white to-yellow-100 text-slate-900">
  <!-- PROMO BAR -->
  <div class="w-full bg-gradient-to-r from-amber-500 to-yellow-600 text-white text-sm">
    <div class="max-w-6xl mx-auto px-4 py-2 flex flex-col sm:flex-row items-center justify-center sm:justify-between gap-2 sm:gap-4 text-center sm:text-left">
      <span class="flex items-center gap-2"><strong>üî• Promosi Pelancaran:</strong> Hanya <strong>RM5</strong> untuk akses penuh RamalNasib!</span>
      <div class="flex items-center gap-4">
        <span class="text-white/90">Tamat hari ini dalam <strong id="dealCountdown">23:59:59</strong></span>
        <a href="#bayar" class="underline font-semibold">Dapatkan Sekarang ‚Üí</a>
      </div>
    </div>
  </div>

  <!-- NAV -->
  <header class="sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-amber-200">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-2xl bg-gradient-to-br from-yellow-500 to-amber-600 shadow-inner"></div>
        <a href="#home" class="font-extrabold tracking-tight text-amber-700">RamalNasib</a>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm text-slate-600">
        <a href="#faedah" class="hover:text-amber-700">Faedah</a>
        <a href="#testimoni" class="hover:text-amber-700">Testimoni</a>
        <a href="#harga" class="hover:text-amber-700">Harga</a>
        <a href="#bayar" class="hover:text-amber-700">Beli</a>
      </nav>
      <a href="#bayar" class="rounded-xl px-4 py-2 bg-gradient-to-r from-yellow-500 to-amber-600 text-white text-sm font-semibold shadow hover:opacity-90 shimmer-btn glow-btn">Mula Sekarang</a>
    </div>
  </header>

  <!-- HERO -->
  <section id="home" class="max-w-6xl mx-auto px-4 pt-10 pb-2">
    <div class="grid md:grid-cols-2 gap-10 items-center">
      <div>
        <div class="inline-flex items-center gap-2 rounded-full border border-amber-200 px-3 py-1 text-xs bg-amber-50 text-amber-700 shadow-sm">üß† Dikuasakan AI ‚Ä¢ üîí Privasi Terjamin ‚Ä¢ ‚ö° Hasil Segera</div>
        <h1 class="mt-3 text-4xl md:text-5xl font-extrabold leading-tight tracking-tight">Pilih Nombor Dengan <span class="text-amber-600">Yakin</span><br/>‚Äî Terima <span class="text-amber-600">Serta-merta</span> di Telegram</h1>
        <p class="mt-4 text-[15px] leading-relaxed text-slate-700">RamalNasib menggunakan AI untuk meramal corak 4D dan memberi anda <strong>set nombor bernilai tinggi</strong>. Selepas bayaran, set dihantar terus ke <strong>Telegram peribadi anda</strong> ‚Äî cepat dan rahsia.</p>

        <div class="mt-6 mx-auto rounded-2xl bg-gradient-to-r from-yellow-100 to-amber-50 border border-amber-200 shadow-sm p-4 md:p-5">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-[15px]">
            <div class="flex items-start gap-3"><span class="mt-1 w-2.5 h-2.5 rounded-full bg-amber-500"></span><p><strong>9 set bernilai</strong> ‚Äî 3√ó Standard, 3√ó Hot, 3√ó Wildcard</p></div>
            <div class="flex items-start gap-3"><span class="mt-1 w-2.5 h-2.5 rounded-full bg-amber-500"></span><p><strong>Watermark unik</strong> dgn <span class="font-semibold text-amber-700">Payment Reference No</span></p></div>
            <div class="flex items-start gap-3"><span class="mt-1 w-2.5 h-2.5 rounded-full bg-amber-500"></span><p><strong>Tebus manual</strong>: <code class="px-1.5 py-0.5 rounded bg-white/70 border">/claim &lt;Payment Reference No&gt;</code></p></div>
            <div class="flex items-start gap-3"><span class="mt-1 w-2.5 h-2.5 rounded-full bg-amber-500"></span><p><strong>Saluran</strong>: Telegram</p></div>
          </div>
        </div>

        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#bayar" class="rounded-2xl bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold px-6 py-3 shadow hover:opacity-90 shimmer-btn glow-btn inline-flex items-center justify-center">Dapatkan Sekarang</a>
          <a href="#harga" class="rounded-2xl border border-amber-300 px-6 py-3 hover:bg-amber-50">Lihat Harga</a>
        </div>
        <div id="ref-badge" class="mt-3 text-xs text-slate-500"></div>
        <p class="mt-1 text-[11px] text-slate-500">*Untuk hiburan sahaja ‚Äî tiada jaminan kemenangan.</p>
      </div>
    </div>
  </section>

  <!-- PRICING -->
  <section id="harga" class="max-w-6xl mx-auto px-4 py-10">
    <div class="rounded-3xl border border-amber-200 bg-white p-6">
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3">
        <h3 class="text-xl font-bold text-amber-700">Pakej Pengenalan</h3>
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-300">Harga Terbaik</span>
          <span class="text-xs px-2 py-1 rounded-full bg-rose-100 text-rose-700 border border-rose-300">Tinggal <strong id="slotsLeft">12</strong> slot hari ini</span>
        </div>
      </div>
      <p class="text-slate-600 mt-1">9 set bernilai: 3√ó Standard, 3√ó Hot, 3√ó Wildcard</p>
      <div class="mt-4 text-4xl font-extrabold tracking-tight text-amber-700">RM 5</div>
      <ul class="mt-4 text-sm space-y-1 text-slate-700">
        <li>‚Ä¢ Penghantaran segera ke Telegram</li>
        <li>‚Ä¢ Watermark anti-share</li>
        <li>‚Ä¢ Sokongan /claim bila-bila masa</li>
      </ul>
      <a href="#bayar" class="mt-5 inline-block rounded-2xl bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold px-6 py-3 shadow hover:opacity-90 shimmer-btn glow-btn">Saya Nak Cuba Sekarang</a>
      <p class="mt-3 text-xs text-slate-500">Sekali bayar ‚Äî tiada langganan tersembunyi.</p>
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimoni" class="max-w-6xl mx-auto px-4 py-10">
    <div class="rounded-3xl border border-amber-200 bg-white p-6 md:p-10 shadow-sm">
      <div class="flex items-center justify-between">
        <h3 class="text-2xl font-bold text-amber-700">Apa kata pelanggan</h3>
        <span class="hidden sm:inline-flex items-center gap-2 text-xs px-2 py-1 rounded-full bg-amber-100 text-amber-700 border border-amber-300 pulse-glow">Disahkan Pembeli</span>
      </div>
      <div class="mt-6 grid md:grid-cols-3 gap-4 text-sm">
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúSebelum ni asyik ‚Äòhampas‚Äô je, tapi sejak guna ni, setiap minggu mesti ada ‚Äòkena sikit‚Äô. Terbaik!‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Alden</figcaption></figure>
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúRM10 je tapi hasil dia macam sistem professional. Tak sia-sia try! Dah kena 2 kali dalam sebulan!.‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Chong</figcaption></figure>
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúBerbaloi dengan harga. Proses memang smooth.‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Kelvin</figcaption></figure>
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúOng lai lai. terima kasih Lucky4D.‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Chooi</figcaption></figure>
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúTerima kasih Lucky4D! Dapat RM5,000 minggu ni.‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Devaraj</figcaption></figure>
        <figure class="rounded-2xl border border-amber-100 p-4 bg-gradient-to-b from-white to-amber-50"><blockquote>‚ÄúSaya tak harap lebih, tapi 2 minggu guna, dah balik modal 10 kali ganda. Kalau saya tak cuba hari tu, memang rugi besar.‚Äù</blockquote><figcaption class="mt-2 text-slate-500">‚Äî Steven</figcaption></figure>
     </div>
    </div>
  </section>

  <!-- CHECKOUT -->
  <section id="bayar" class="max-w-6xl mx-auto px-4 py-10">
    <div class="grid md:grid-cols-2 gap-8 items-start">
      <div class="rounded-3xl border border-amber-200 bg-white p-6 shadow-sm">
        <h3 class="text-2xl font-bold text-amber-700">Maklumat Pembeli</h3>
        <div class="mt-4 grid gap-3">
          <label class="text-sm">Nama
            <input id="name" type="text" class="mt-1 w-full rounded-xl border px-3 py-2 border-amber-300 focus:border-amber-500 focus:ring-amber-400" placeholder="Nama penuh" />
          </label>
          <label class="text-sm">Email
            <input id="email" type="email" class="mt-1 w-full rounded-xl border px-3 py-2 border-amber-300 focus:border-amber-500 focus:ring-amber-400" placeholder="email@contoh.com" />
          </label>
        </div>

        <div class="mt-4">
          <p class="text-sm font-semibold text-slate-700">Saluran Penghantaran</p>
          <div class="mt-2 flex gap-4">
            <label class="flex items-center gap-2 text-sm"><input type="radio" name="channel" id="chTg" value="telegram" checked /> Telegram</label>
          </div>
        </div>

        <div id="tgWrap" class="mt-3">
          <label class="text-sm">Telegram Username
            <input id="tgUser" type="text" class="mt-1 w-full rounded-xl border px-3 py-2 border-amber-300 focus:border-amber-500 focus:ring-amber-400" placeholder="contoh: Lucky4D (tanpa @)" />
          </label>
          <p class="mt-1 text-xs text-slate-500">Buka bot <a href="https://t.me/Lucky4D_bot" target="_blank" class="underline text-amber-700">@Lucky4D_bot</a> dan hantar <code>/start</code>.</p>
        </div>

        <button id="payBtn" class="mt-5 w-full inline-flex items-center justify-center rounded-2xl bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold py-3 shadow hover:opacity-90 shimmer-btn glow-btn">Teruskan ke Pembayaran (RM5)</button>

        <div class="mt-3 flex items-center gap-2 text-xs text-slate-500"><span class="w-4 h-4 rounded-full bg-amber-200 border border-amber-400"></span>Bayaran selamat melalui FPX Payment.</div>
        <p class="mt-2 text-xs text-slate-500">Selepas berjaya: jika belum terima DM, tebus manual di Telegram dengan <code>/claim &lt;Payment Reference No&gt;</code>.</p>
      </div>

      <!-- Claim Helper + Guide -->
      <div class="rounded-3xl border border-amber-200 bg-white p-6">
        <h3 class="text-2xl font-bold text-amber-700">Cara Tebus (Manual)</h3>
        <ol class="list-decimal ml-5 mt-2 space-y-2 text-sm">
          <li>Buka bot Telegram: <a href="https://t.me/Lucky4D_bot" target="_blank" class="underline text-amber-700">@Lucky4D_bot</a></li>
          <li>Hantar: <code>/start</code></li>
          <li>Hantar: <code>/claim &lt;Payment Reference No&gt;</code></li>
        </ol>
        <div class="mt-4">
          <label class="text-sm">Payment Reference No
            <input id="refInput" type="text" class="mt-1 w-full rounded-xl border px-3 py-2 border-amber-300 focus:border-amber-500 focus:ring-amber-400" placeholder="Tampal nombor rujukan daripada resit FPX Payment" />
          </label>
          <div class="mt-3 flex flex-wrap gap-2">
            <button id="copyRefBtn" class="rounded-2xl border border-amber-400 px-4 py-2 hover:bg-amber-50">Salin Nombor</button>
            <button id="copyClaimBtn" class="rounded-2xl border border-amber-400 px-4 py-2 hover:bg-amber-50">Salin Arahan /claim</button>
            <a href="https://t.me/Lucky4D_bot" target="_blank" class="rounded-2xl border border-amber-400 px-4 py-2 hover:bg-amber-50">Buka Bot</a>
          </div>
          <p id="copyNote" class="mt-2 text-xs text-emerald-600 hidden">Disalin ke papan keratan ‚úÖ</p>
        </div>
        <p class="mt-3 text-xs text-slate-500">Setiap Payment Reference No hanya boleh ditebus oleh satu akaun Telegram.</p>
      </div>
    </div>
  </section>

  <!-- REFERRAL PROGRAM (new) -->
  <section id="referral" class="max-w-6xl mx-auto px-4 pb-12">
    <div class="rounded-3xl border border-emerald-200 bg-white p-6">
      <h3 class="text-2xl font-bold text-emerald-700">üéÅ Program Rujukan</h3>
      <p class="mt-1 text-sm text-slate-700">Tetapkan nama rujukan anda (huruf/nombor sahaja). Kongsikan link anda; bila rakan membeli (RM5) dan pembayaran berjaya, ganjaran akan direkod.</p>
      <div class="mt-3 flex items-center gap-2 flex-wrap">
        <input id="my-ref-input" placeholder="cth: Ali88" maxlength="20"
               class="rounded-xl border px-3 py-2 border-emerald-300 focus:border-emerald-500" />
        <button id="save-ref-btn" class="rounded-xl bg-emerald-600 text-white px-4 py-2">Simpan</button>
      </div>
      <div id="my-ref-output" class="mt-3 font-semibold"></div>
      <p class="mt-2 text-xs text-slate-500">Contoh ganjaran: 1 nombor percuma / RM1 setiap rujukan berjaya. (Self-referral tidak dikira.)</p>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="max-w-6xl mx-auto px-4 py-10">
    <div class="rounded-3xl border border-amber-200 bg-white p-6 shadow-sm">
      <h3 class="text-2xl font-bold text-amber-700">Soalan Lazim</h3>
      <div class="mt-4 grid md:grid-cols-2 gap-6 text-sm text-slate-700">
        <div><p class="font-semibold">Dijamin menang?</p><p class="text-slate-600">Tiada jaminan. Ini hiburan & cadangan berdasarkan corak. Guna kebijaksanaan sendiri.</p></div>
        <div><p class="font-semibold">Tak terima DM?</p><p class="text-slate-600">Tebus manual di TELEGRAM: hantar <code>/claim &lt;Payment Reference No&gt;</code> di bot <a href="https://t.me/Lucky4D_bot" target="_blank" class="underline text-amber-700">@Lucky4D_bot</a>.</p></div>
        <div><p class="font-semibold">Boleh kongsi set?</p><p class="text-slate-600">Tidak digalakkan. Set ditanda dengan Payment Reference No pembeli.</p></div>
        <div><p class="font-semibold">WhatsApp auto?</p><p class="text-slate-600">Buat masa ini, Telegram sahaja.</p></div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="border-t border-amber-200 bg-white">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-slate-600 flex items-center justify-between">
      <span>¬© <span id="year"></span> RamalNasib</span>
      <a href="https://t.me/Lucky4D_bot" target="_blank" class="underline text-amber-700">Telegram Bot</a>
    </div>
  </footer>

  <!-- Floating CTA -->
  <a href="#bayar" class="fixed bottom-5 right-5 md:right-8 rounded-full bg-gradient-to-r from-yellow-500 to-amber-600 text-white font-semibold shadow-lg px-5 py-3 hover:opacity-90 shimmer-btn glow-btn">üí∞ Beli Sekarang</a>
  <!-- Floating mini countdown badge -->
  <div class="fixed bottom-24 right-5 md:right-8 bg-amber-600 text-white text-xs font-semibold rounded-full px-3 py-2 shadow-lg ring-2 ring-amber-300/50">
    ‚è≥ <span id="floatCountdown">--:--:--</span>
  </div>

  <script>
    const WORKER_BASE = "https://ramalnasib-worker.nickson-richard87.workers.dev";

    document.addEventListener('DOMContentLoaded', () => {
      const year = document.getElementById('year'); if (year) year.textContent = new Date().getFullYear();

      const nameEl = document.getElementById('name');
      const emailEl = document.getElementById('email');
      const tgUser = document.getElementById('tgUser');
      const payBtn = document.getElementById('payBtn');

      const refInput = document.getElementById('refInput');
      const copyRefBtn = document.getElementById('copyRefBtn');
      const copyClaimBtn = document.getElementById('copyClaimBtn');
      const copyNote = document.getElementById('copyNote');

      function saveProfile(){
        const p = { name:nameEl?.value?.trim()||'', email:emailEl?.value?.trim()||'', tg:(tgUser?.value||'').replace(/^@/,'').trim() };
        try { localStorage.setItem('rn_profile', JSON.stringify(p)); } catch {}
        return p;
      }
      function loadProfile(){
        try { const p = JSON.parse(localStorage.getItem('rn_profile')||'null'); if(!p) return; nameEl.value=p.name||''; emailEl.value=p.email||''; tgUser.value=p.tg||''; } catch {}
      }
      loadProfile();

      async function goPay(){
        const p = saveProfile();
        if (!p.name || !p.email || !p.tg) {
          alert('Sila isi Nama, Email dan Telegram Username (tanpa @).');
          return;
        }
        try {
          const r = await fetch(`${WORKER_BASE}/bill`, {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({ name: p.name, email: p.email, tg: p.tg, phone: '0100000000' })
          });
          const j = await r.json();
          if (j.url) {
            location.href = j.url;
          } else {
            alert('Maaf, ralat membuat bil. Sila cuba lagi.');
          }
        } catch (e) {
          alert('Maaf, ralat rangkaian. Sila cuba lagi.');
        }
      }
      payBtn?.addEventListener('click', goPay);

      async function copy(text){ try { await navigator.clipboard.writeText(text); copyNote?.classList.remove('hidden'); setTimeout(()=>copyNote?.classList.add('hidden'), 1500);} catch { alert('Tidak dapat salin.'); } }
      copyRefBtn?.addEventListener('click', ()=>{ const v=refInput?.value?.trim(); if(!v) return alert('Masukkan Payment Reference No.'); copy(v); });
      copyClaimBtn?.addEventListener('click', ()=>{ const v=refInput?.value?.trim(); if(!v) return alert('Masukkan Payment Reference No.'); copy(`/claim ${v}`); });

      function tick(){
        const now=new Date(); const end=new Date(); end.setHours(19,0,0,0);
        const diff=end-now; const h=String(Math.max(0,Math.floor(diff/36e5))).padStart(2,'0'); const m=String(Math.max(0,Math.floor(diff%36e5/6e4))).padStart(2,'0'); const s=String(Math.max(0,Math.floor(diff%6e4/1e3))).padStart(2,'0');
        const t=`${h}:${m}:${s}`; const d=document.getElementById('dealCountdown'); const f=document.getElementById('floatCountdown'); if(d) d.textContent=t; if(f) f.textContent=t;
      }
      tick(); setInterval(tick, 1000);

      function initSlots(){ const today=new Date().toISOString().slice(0,10); const saved=localStorage.getItem('rn_slots_date'); let left=Number(localStorage.getItem('rn_slots_left')||'0'); if(saved!==today||!left){ left=Math.floor(Math.random()*7)+9; localStorage.setItem('rn_slots_date',today); localStorage.setItem('rn_slots_left',String(left)); } renderSlots(left); }
      function renderSlots(n){ const el=document.getElementById('slotsLeft'); if(el) el.textContent=String(Math.max(n,2)); }
      function updateSlots(delta){ const today=new Date().toISOString().slice(0,10); const saved=localStorage.getItem('rn_slots_date'); if(saved!==today) initSlots(); let left=Number(localStorage.getItem('rn_slots_left')||'0'); left=Math.max(left+(delta||0),2); localStorage.setItem('rn_slots_left',String(left)); renderSlots(left); }
      initSlots();
    });
  </script>

  <!-- Referral: personal link generator -->
  <script>
    // Build base like https://{user}.github.io/Lucky4D/
    const RN_DOMAIN_BASE = window.location.origin + (window.location.pathname.endsWith('/') ? window.location.pathname : window.location.pathname.replace(/\/[^/]*$/, '/'));
    function sanitizeRefName(s){ return (s||'').toString().trim().replace(/[^a-zA-Z0-9_-]/g,'').slice(0,20); }
    function renderMyRef(){
      const my = localStorage.getItem('ramal_myref') || '';
      const out = document.getElementById('my-ref-output');
      if (!out) return;
      if (my) {
        const link = `${RN_DOMAIN_BASE}?ref=${encodeURIComponent(my)}`;
        out.innerHTML = `Link rujukan anda: <a class="underline text-emerald-700" href="${link}">${link}</a>`;
      } else {
        out.textContent = '';
      }
    }
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('save-ref-btn')?.addEventListener('click', () => {
        const raw = document.getElementById('my-ref-input').value;
        const clean = sanitizeRefName(raw);
        if (!clean) return alert('Masukkan huruf/nombor sahaja.');
        try { localStorage.setItem('ramal_myref', clean); } catch {}
        renderMyRef();
      });
      renderMyRef();
    });
  </script>
</body>
</html>
